[{"created":"20220103191717357","creator":"Joost van den Dool","text":"{\n    \"tiddlers\": {\n        \"$:/plugins/DoolPlex/GroupedTable/GroupedTable.js\": {\n            \"created\": \"20220103183733242\",\n            \"creator\": \"Joost van den Dool\",\n            \"text\": \"/*\\\\\\ntitle: $:/plugins/Doolplex/GroupedTable/GroupedTable.js\\ntype: application/javascript\\nmodule-type: macro\\nA TiddlyWiki 5 macro which creates a table with rowgrouping\\n\\\\*/\\n(function() {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    exports.name = \\\"groupedtable\\\";\\n\\n    exports.params = [\\n        {name: \\\"tag\\\", default: \\\"\\\"},\\n        {name: \\\"groupfield\\\", default: \\\"\\\"},\\n        {name: \\\"fieldlist\\\",  default: \\\"\\\"},\\n        {name: \\\"filtercriteria\\\",  default: \\\"\\\"}\\n    ];\\n\\n    /*\\n    Run the macro. Make sure it accepts the parameters you have defined above.\\n    */\\n    exports.run = function(tag, groupfield, fieldlist, filtercriteria) {\\n        try {\\n            var fields = fieldlist.split(\\\",\\\");\\n            var nrofFields = fields.length;\\n            var filter = \\\"[each[\\\" + groupfield + \\\"]tag[\\\" + tag + \\\"]sort[\\\" + groupfield + \\\"]\\\" + filtercriteria + \\\"]\\\";\\n            var subfilter = \\\"[field:\\\" + groupfield + \\\"{!!\\\" + groupfield + \\\"}sort[title]\\\" + filtercriteria + \\\"]\\\";\\n\\n            var resultText = \\\"\\\";\\n\\n            // Write the header of the table\\n            resultText += \\\"<table><tr class='gt-headerrow'>\\\";\\n\\n            for (var i = 0; i < nrofFields; i++)\\n                resultText += \\\"<th align=left>\\\" + fields[i] + \\\"</th>\\\"; \\n\\n            resultText += \\\"</tr>\\\"; \\n\\n            if (groupfield == \\\"\\\") {\\n                filter = \\\"[tag[\\\" + tag + \\\"]sort[\\\" + groupfield + \\\"]\\\" + filtercriteria + \\\"]\\\";\\n\\n                resultText += \\\"<$list filter=\\\" + filter + \\\">\\\";\\n                resultText += \\\"<tr>\\\";\\n\\n                for (var fi = 0; fi < nrofFields; fi++) {\\n                    if (fi == 0) \\n                        resultText += \\\"<td><$link to[[!!title]]><$view field=\\\" + fields[fi] + \\\" /></$link></td>\\\";\\n                    else\\n                        resultText += \\\"<td><$view field=\\\" + fields[fi] + \\\" /></td>\\\";\\n                }\\n                resultText += \\\"</tr>\\\";\\n                resultText += \\\"</$list>\\\";\\n            } else {\\n                resultText += \\\"<$list filter=\\\" + filter + \\\">\\\";\\n                resultText += \\\"<tr><td class='gt-groupheader' colspan='\\\" + nrofFields + \\\"'>\\\" + groupfield + \\\":&nbsp;<$view field='\\\" + groupfield + \\\"' /></td></tr>\\\";\\n                resultText += \\\"<$list filter='\\\" + subfilter + \\\"'>\\\";\\n                resultText += \\\"<tr>\\\";\\n\\n                for (var fi = 0; fi < nrofFields; fi++) {\\n                    if (fi == 0) \\n                        resultText += \\\"<td><$link to[[!!title]]><$view field=\\\" + fields[fi] + \\\" /></$link></td>\\\";\\n                    else\\n                        resultText += \\\"<td><$view field=\\\" + fields[fi] + \\\" /></td>\\\";\\n                }\\n\\n                resultText += \\\"</tr>\\\";\\n                resultText += \\\"</$list>\\\";\\n                resultText += \\\"</$list>\\\";\\n            }\\n\\n            // close the table and return the result\\n            resultText += \\\"</table>\\\"; \\n\\n            return resultText;\\n        } catch (err) {\\n            console.error(err.stack)\\n            return \\\"(ERROR: \\\" + err.message + \\\") \\\";\\n        }\\n    };\\n\\n})();\",\n            \"tags\": \"$:/tags/Macro\",\n            \"title\": \"$:/plugins/DoolPlex/GroupedTable/GroupedTable.js\",\n            \"modified\": \"20220103195014341\",\n            \"modifier\": \"Joost van den Dool\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"macro\"\n        },\n        \"$:/plugins/DoolPlex/GroupedTable/GTStyles\": {\n            \"created\": \"20220103184148026\",\n            \"creator\": \"Joost van den Dool\",\n            \"text\": \"table {\\n    border-spacing: 0;\\n    width: 100%;\\n    border: 1px solid #ddd;\\n}\\n\\n.gt-groupheader {\\n    background-color: #525252;\\n    font-weight: bold;\\n}\\n\\n\\nth.asc2::after { \\n    content: \\\" ▲\\\";\\n}\\n\\nth.desc2::after { \\n    content: \\\" ▼\\\";\\n}\\n\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"title\": \"$:/plugins/DoolPlex/GroupedTable/GTStyles\",\n            \"modified\": \"20220103194941430\",\n            \"modifier\": \"Joost van den Dool\",\n            \"type\": \"text/plain\",\n            \"module-type\": \"stylesheet\"\n        }\n    }\n}","tags":"","title":"$:/plugins/DoolPlex/GroupedTable","modified":"20220103195222064","modifier":"Joost van den Dool","dependents":" ","description":"Plugin for tables with row level grouping","name":"GroupedTable","plugin-type":"plugin","type":"application/json","version":"0.1.2"}]